<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Color_Palette • itol.toolkit</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Color_Palette">
<meta property="og:description" content="itol.toolkit">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">itol.toolkit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/Get_Start.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Single Functions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Tree Structure</li>
    <li>
      <a href="../articles/COLLAPSE.html">COLLAPSE</a>
    </li>
    <li>
      <a href="../articles/PRUNE.html">PRUNE</a>
    </li>
    <li>
      <a href="../articles/SPACING.html">SPACING</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Theme Style</li>
    <li>
      <a href="../articles/TREE_COLORS.html">TREE_COLORS</a>
    </li>
    <li>
      <a href="../articles/DATASET_STYLE.html">DATASET_STYLE</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Text</li>
    <li>
      <a href="../articles/LABELS.html">LABELS</a>
    </li>
    <li>
      <a href="../articles/DATASET_TEXT.html">DATASET_TEXT</a>
    </li>
    <li>
      <a href="../articles/DATASET_COLORSTRIP.html">DATASET_COLORSTRIP</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Basic Plot</li>
    <li>
      <a href="../articles/DATASET_BINARY.html">DATASET_BINARY</a>
    </li>
    <li>
      <a href="../articles/DATASET_GRADIENT.html">DATASET_GRADIENT</a>
    </li>
    <li>
      <a href="../articles/DATASET_HEATMAP.html">DATASET_HEATMAP</a>
    </li>
    <li>
      <a href="../articles/DATASET_SYMBOL.html">DATASET_SYMBOL</a>
    </li>
    <li>
      <a href="../articles/DATASET_EXTERNALSHAPE.html">DATASET_EXTERNALSHAPE</a>
    </li>
    <li>
      <a href="../articles/DATASET_DOMAINS.html">DATASET_DOMAINS</a>
    </li>
    <li>
      <a href="../articles/DATASET_SIMPLEBAR.html">DATASET_SIMPLEBAR</a>
    </li>
    <li>
      <a href="../articles/DATASET_MULTIBAR.html">DATASET_MULTIBAR</a>
    </li>
    <li>
      <a href="../articles/DATASET_BOXPLOT.html">DATASET_BOXPLOT</a>
    </li>
    <li>
      <a href="../articles/DATASET_LINECHART.html">DATASET_LINECHART</a>
    </li>
    <li>
      <a href="../articles/DATASET_PIECHART.html">DATASET_PIECHART</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Advanced Plot</li>
    <li>
      <a href="../articles/DATASET_ALIGNMENT.html">DATASET_ALIGNMENT</a>
    </li>
    <li>
      <a href="../articles/DATASET_CONNECTIONS.html">DATASET_CONNECTIONS</a>
    </li>
    <li>
      <a href="../articles/DATASET_IMAGE.html">DATASET_IMAGE</a>
    </li>
    <li>
      <a href="../articles/POPUP_INFO.html">POPUP_INFO</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tips
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/OVERVIEW_TREE_STRUCTURE.html">Overview</a>
    </li>
    <li>
      <a href="../articles/Installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/Datasets.html">Datasets</a>
    </li>
    <li>
      <a href="../articles/Color_Palette.html">Colors</a>
    </li>
    <li>
      <a href="../articles/Data_Reproduction.html">Data Reproduction</a>
    </li>
    <li>
      <a href="../articles/Comparison_table2itol.html">vs table2itol</a>
    </li>
    <li>
      <a href="../articles/tree_construction.html">Tree Construction</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://tongzhou2017.github.io/itol.toolkit-gallery/" class="external-link">Gallery</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/TongZhou2017/itol.toolkit" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discord.com/invite/n5TC7jCfGJ" class="external-link">
    <span class="fab fa-discord fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/itol_toolkit" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Color_Palette</h1>
                        <h4 data-toc-skip class="author">Weiyue Liu<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, Zhongyi
Hua<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>,
Tong Zhou<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>
</h4>
            
            <h4 data-toc-skip class="date">Last compiled on 18 November,
2023</h4>
      
      
      <div class="hidden name"><code>Color_Palette.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In itol, most templates need users to specify color information
manually, causing inconvenience when preparing large amounts of data for
visualization. Therefore, itol.toolkit has been optimized to address
this issue by allowing users to input only metadata, and the program
will automatically generates corresponding color information through the
built-in color palette. To best meet the needs of different users, there
are several palettes in itol.toolkit for users to select, and, of
course, itol.toolkit retaining the choice of setting colors manually. In
addition, the limited number of colors provided in some existing itol
helper packages makes it difficult to meet the user’s usage needs when
the user has a large amount of data. itol.toolkit provides up to 75
colors, which basically meets the user’s usage needs. Users can modify
the color palette by “color” parameter of the <code><a href="../reference/create_unit.html">create_unit()</a></code>
function.</p>
<p>This section describes several ways to modify the color scheme when
creating a unit with <code>itol.toolkit</code>. To show each color
scheme more visually, we use <a href="https://github.com/TongZhou2017/itol.toolkit/tree/master/inst/extdata/dataset3" class="external-link">dataset3</a>
and the <code>DATASET_COLORSTRIP</code> template for demonstration.
Users can download the data locally from the provided link above. The
files are read using a relative path in this document, so please adjust
the path based on your actual situation.</p>
<p>Before we start, please load the packages and data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">itol.toolkit</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://ape-package.ird.fr/" class="external-link">ape</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ape/man/read.tree.html" class="external-link">read.tree</a></span><span class="op">(</span><span class="st">"abunt-tree.nwk"</span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="st">"abunt-metadata.txt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="built-in-color-palette">Built-in color palette<a class="anchor" aria-label="anchor" href="#built-in-color-palette"></a>
</h2>
<div class="section level3">
<h3 id="table2itol">table2itol<a class="anchor" aria-label="anchor" href="#table2itol"></a>
</h3>
<p>“table2itol” is the default color palette used by the widely used <a href="https://github.com/mgoeker/table2itol" class="external-link">table2itol.R</a> tool, and
itol.toolkit inherent. When the user does not set the color parameter
when creating a unit, the program will use this color palette by
default. The color palette supports up to 40 different colors, which is
sufficient for most users when annotating taxonomic information.
However, it may not be adequate for users with large trees or when
annotating lower taxonomic ranks (e.g., genus, species).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Class</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_table2itol_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="wesanderson">wesanderson<a class="anchor" aria-label="anchor" href="#wesanderson"></a>
</h3>
<p>When the default color palette is insufficient, the user can set the
color parameter to “wesanderson” color palette (Refer to <a href="https://github.com/karthik/wesanderson" class="external-link">wesanderson</a> for more
detail information). The color palette supports up to 75 different
colors, which can meet most of users’ needs.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Genus</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_wesanderson_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"wesanderson"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
<p>Note that different random number seeds will produce different color
schemes when using the wesanderson color palette, so it is recommended
to set a random number seed using the <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> function
before using it.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">unit_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Genus</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_wesanderson_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"wesanderson"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rcolorbrewer">RColorBrewer<a class="anchor" aria-label="anchor" href="#rcolorbrewer"></a>
</h3>
<p>RColorBrewer package provides three categories of 44 color palettes
(refer to the <a href="http://ColorBrewer2.org" class="external-link">ColorBrewer2</a> for
detail information), users can view these palettes through
<code><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">display.brewer.all()</a></code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">display.brewer.all</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>itol.toolkit supports using the RColorBrewer color palette. Note that
when creating a unit using the RColorBrewer color palette, users need to
set the “color” parameter to the <strong>name of the palette</strong> in
RColorBrewer instead of setting it directly to “RColorBrewer”.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_RColorBrewer_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"Set1"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span>
<span></span>
<span><span class="va">unit_5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_RColorBrewer_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"Set3"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ggsci">ggsci<a class="anchor" aria-label="anchor" href="#ggsci"></a>
</h3>
<p>ggsci package offers a collection of high-quality color palettes
inspired by colors used in scientific journals, data visualization
libraries, science fiction movies, and TV shows (refer to the <a href="https://nanx.me/ggsci/articles/ggsci.html" class="external-link">ggsci</a> for detail
information). itol.toolkit has built-in ggsci color palettes, and users
can use these color palettes by setting the “color” parameter. Note that
when creating a unit using the ggsci color palette, users need to set
the “color” parameter to the name of the palette in ggsci instead of
setting it directly to “ggsci”.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_ggsci_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"npg"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
<p>If different types exist for the color palettes, use an underscore
<code>_</code> to separate the palettes name from the type.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_7</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_ggsci_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"d3_category10"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span>
<span><span class="va">unit_8</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_ggsci_3"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"d3_category8"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="set-colors-manually">Set colors manually<a class="anchor" aria-label="anchor" href="#set-colors-manually"></a>
</h2>
<p>Users can set the colors manually by adding columns containing color
information to the metadata. The program supports hexadecimal, RGB, and
RGBA color formats and automatically recognizes strings starting with
“#” or “rgb” as color information.</p>
<div class="section level3">
<h3 id="hexadecimal">Hexadecimal<a class="anchor" aria-label="anchor" href="#hexadecimal"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">phylum_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Phylum</span>, <span class="va">Phylum_color</span>,</span>
<span>  <span class="st">"Proteobacteria"</span>, <span class="st">"#5a7860"</span>,</span>
<span>  <span class="st">"Actinobacteria"</span>, <span class="st">"#92af83"</span>,</span>
<span>  <span class="st">"Firmicutes"</span>,     <span class="st">"#f1e0a8"</span>,</span>
<span>  <span class="st">"Nitrospirae"</span>,    <span class="st">"#dd7050"</span>,</span>
<span>  <span class="st">"Bacteroidetes"</span>,  <span class="st">"#cca663"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">phylum_color</span><span class="op">)</span></span>
<span><span class="va">unit_9</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span>, <span class="va">Phylum_color</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_manual_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rgb">RGB<a class="anchor" aria-label="anchor" href="#rgb"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phylum_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Phylum</span>, <span class="va">Phylum_color</span>,</span>
<span>  <span class="st">"Proteobacteria"</span>, <span class="st">"rgb(16, 70, 128)"</span>,</span>
<span>  <span class="st">"Actinobacteria"</span>, <span class="st">"rgb(109, 173, 209)"</span>,</span>
<span>  <span class="st">"Firmicutes"</span>,     <span class="st">"rgb(233, 241, 244)"</span>,</span>
<span>  <span class="st">"Nitrospirae"</span>,    <span class="st">"rgb(220, 109, 87)"</span>,</span>
<span>  <span class="st">"Bacteroidetes"</span>,  <span class="st">"rgb(183, 34, 48)"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">phylum_color</span><span class="op">)</span></span>
<span><span class="va">unit_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span>, <span class="va">Phylum_color</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_manual_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rgba">RGBA<a class="anchor" aria-label="anchor" href="#rgba"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phylum_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Phylum</span>, <span class="va">Phylum_color</span>,</span>
<span>  <span class="st">"Proteobacteria"</span>, <span class="st">"rgba(16, 70, 128, 0.8)"</span>,</span>
<span>  <span class="st">"Actinobacteria"</span>, <span class="st">"rgba(109, 173, 209, 0.8)"</span>,</span>
<span>  <span class="st">"Firmicutes"</span>,     <span class="st">"rgba(233, 241, 244, 0.8)"</span>,</span>
<span>  <span class="st">"Nitrospirae"</span>,    <span class="st">"rgba(220, 109, 87, 0.8)"</span>,</span>
<span>  <span class="st">"Bacteroidetes"</span>,  <span class="st">"rgba(183, 34, 48, 0.8)"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">phylum_color</span><span class="op">)</span></span>
<span><span class="va">unit_11</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                         <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span>, <span class="va">Phylum_color</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_manual_3"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p>IOCAS, <a href="mailto:weiyLiu@outlook.com" class="email">weiyLiu@outlook.com</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>CACMS, <a href="mailto:njbxhzy@hotmail.com" class="email">njbxhzy@hotmail.com</a><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>IOCAS, <a href="mailto:tongzhou2017@gmail.com" class="email">tongzhou2017@gmail.com</a><a href="#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tong Zhou.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
