<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Color_Palette • itol.toolkit</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Color_Palette">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">itol.toolkit</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/Get_Start.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-single-functions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Single Functions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-single-functions">
<li><h6 class="dropdown-header" data-toc-skip>Tree Structure</h6></li>
    <li><a class="dropdown-item" href="../articles/COLLAPSE.html">COLLAPSE</a></li>
    <li><a class="dropdown-item" href="../articles/PRUNE.html">PRUNE</a></li>
    <li><a class="dropdown-item" href="../articles/SPACING.html">SPACING</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Theme Style</h6></li>
    <li><a class="dropdown-item" href="../articles/TREE_COLORS.html">TREE_COLORS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_STYLE.html">DATASET_STYLE</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Text</h6></li>
    <li><a class="dropdown-item" href="../articles/LABELS.html">LABELS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_TEXT.html">DATASET_TEXT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_COLORSTRIP.html">DATASET_COLORSTRIP</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Basic Plot</h6></li>
    <li><a class="dropdown-item" href="../articles/DATASET_BINARY.html">DATASET_BINARY</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_GRADIENT.html">DATASET_GRADIENT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_HEATMAP.html">DATASET_HEATMAP</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_SYMBOL.html">DATASET_SYMBOL</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_EXTERNALSHAPE.html">DATASET_EXTERNALSHAPE</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_DOMAINS.html">DATASET_DOMAINS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_SIMPLEBAR.html">DATASET_SIMPLEBAR</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_MULTIBAR.html">DATASET_MULTIBAR</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_BOXPLOT.html">DATASET_BOXPLOT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_LINECHART.html">DATASET_LINECHART</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_PIECHART.html">DATASET_PIECHART</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Plot</h6></li>
    <li><a class="dropdown-item" href="../articles/DATASET_ALIGNMENT.html">DATASET_ALIGNMENT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_CONNECTIONS.html">DATASET_CONNECTIONS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_IMAGE.html">DATASET_IMAGE</a></li>
    <li><a class="dropdown-item" href="../articles/POPUP_INFO.html">POPUP_INFO</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tips" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tips</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tips">
<li><a class="dropdown-item" href="../articles/OVERVIEW_TREE_STRUCTURE.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/Installation.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/Datasets.html">Datasets</a></li>
    <li><a class="dropdown-item" href="../articles/Color_Palette.html">Colors</a></li>
    <li><a class="dropdown-item" href="../articles/Data_Reproduction.html">Data Reproduction</a></li>
    <li><a class="dropdown-item" href="../articles/Comparison_table2itol.html">vs table2itol</a></li>
    <li><a class="dropdown-item" href="../articles/tree_construction.html">Tree Construction</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Version history</h6></li>
    <li><a class="dropdown-item" href="../articles/v1.1.9.html">version 1.1.9</a></li>
    <li><a class="dropdown-item" href="../articles/v1.1.10.html">version 1.1.10</a></li>
    <li><a class="dropdown-item" href="../articles/v1.1.11.html">version 1.1.11</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="https://tongzhou2017.github.io/itol.toolkit-gallery/">Gallery</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/TongZhou2017/itol.toolkit" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discord.com/invite/n5TC7jCfGJ" aria-label="Discord community"><span class="fa fab fa-discord fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/itol_toolkit" aria-label="Twitter profile"><span class="fa fa-twitter"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Color_Palette</h1>
                        <h4 data-toc-skip class="author">Weiyue Liu<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;IOCAS, &lt;a href="mailto:weiyLiu@outlook.com" class="email"&gt;weiyLiu@outlook.com&lt;/a&gt;&lt;/p&gt;'><sup>1</sup></a>, Zhongyi
Hua<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;CACMS, &lt;a href="mailto:njbxhzy@hotmail.com" class="email"&gt;njbxhzy@hotmail.com&lt;/a&gt;&lt;/p&gt;'><sup>2</sup></a>,
Tong Zhou<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;IOCAS, &lt;a href="mailto:tongzhou2017@gmail.com" class="email"&gt;tongzhou2017@gmail.com&lt;/a&gt;&lt;/p&gt;'><sup>3</sup></a>
</h4>
            
            <h4 data-toc-skip class="date">Last compiled on 01
September, 2025</h4>
      

      <div class="d-none name"><code>Color_Palette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In itol, most templates need users to specify color information
manually, causing inconvenience when preparing large amounts of data for
visualization. Therefore, itol.toolkit has been optimized to address
this issue by allowing users to input only metadata, and the program
will automatically generates corresponding color information through the
built-in color palette. To best meet the needs of different users, there
are several palettes in itol.toolkit for users to select, and, of
course, itol.toolkit retaining the choice of setting colors manually. In
addition, the limited number of colors provided in some existing itol
helper packages makes it difficult to meet the user’s usage needs when
the user has a large amount of data. itol.toolkit provides up to 75
colors, which basically meets the user’s usage needs. Users can modify
the color palette by “color” parameter of the <code><a href="../reference/create_unit.html">create_unit()</a></code>
function.</p>
<p>This section describes several ways to modify the color scheme when
creating a unit with <code>itol.toolkit</code>. To show each color
scheme more visually, we use <a href="https://github.com/TongZhou2017/itol.toolkit/tree/master/inst/extdata/dataset3" class="external-link">dataset3</a>
and the <code>DATASET_COLORSTRIP</code> template for demonstration.
Users can download the data locally from the provided link above. The
files are read using a relative path in this document, so please adjust
the path based on your actual situation.</p>
<p>Before we start, please load the packages and data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tongzhou2017.github.io/itol.toolkit/">itol.toolkit</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/emmanuelparadis/ape" class="external-link">ape</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ape/man/read.tree.html" class="external-link">read.tree</a></span><span class="op">(</span><span class="st">"abunt-tree.nwk"</span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="st">"abunt-metadata.txt"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="built-in-color-palette">Built-in color palette<a class="anchor" aria-label="anchor" href="#built-in-color-palette"></a>
</h2>
<div class="section level3">
<h3 id="table2itol">table2itol<a class="anchor" aria-label="anchor" href="#table2itol"></a>
</h3>
<p>“table2itol” is the default color palette used by the widely used <a href="https://github.com/mgoeker/table2itol" class="external-link">table2itol.R</a> tool, and
itol.toolkit inherent. When the user does not set the color parameter
when creating a unit, the program will use this color palette by
default. The color palette supports up to 40 different colors, which is
sufficient for most users when annotating taxonomic information.
However, it may not be adequate for users with large trees or when
annotating lower taxonomic ranks (e.g., genus, species).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Class</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_table2itol_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="wesanderson">wesanderson<a class="anchor" aria-label="anchor" href="#wesanderson"></a>
</h3>
<p>When the default color palette is insufficient, the user can set the
color parameter to “wesanderson” color palette (Refer to <a href="https://github.com/karthik/wesanderson" class="external-link">wesanderson</a> for more
detail information). The color palette supports up to 75 different
colors, which can meet most of users’ needs.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Genus</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_wesanderson_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"wesanderson"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
<p>Note that different random number seeds will produce different color
schemes when using the wesanderson color palette, so it is recommended
to set a random number seed using the <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> function
before using it.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">unit_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Genus</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_wesanderson_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"wesanderson"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rcolorbrewer">RColorBrewer<a class="anchor" aria-label="anchor" href="#rcolorbrewer"></a>
</h3>
<p>RColorBrewer package provides three categories of 44 color palettes
(refer to the <a href="http://ColorBrewer2.org" class="external-link">ColorBrewer2</a> for
detail information), users can view these palettes through
<code><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">display.brewer.all()</a></code> function.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html" class="external-link">display.brewer.all</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>itol.toolkit supports using the RColorBrewer color palette. Note that
when creating a unit using the RColorBrewer color palette, users need to
set the “color” parameter to the <strong>name of the palette</strong> in
RColorBrewer instead of setting it directly to “RColorBrewer”.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_RColorBrewer_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"Set1"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span>
<span></span>
<span><span class="va">unit_5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_RColorBrewer_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"Set3"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="ggsci">ggsci<a class="anchor" aria-label="anchor" href="#ggsci"></a>
</h3>
<p>ggsci package offers a collection of high-quality color palettes
inspired by colors used in scientific journals, data visualization
libraries, science fiction movies, and TV shows (refer to the <a href="https://nanx.me/ggsci/articles/ggsci.html" class="external-link">ggsci</a> for detail
information). itol.toolkit has built-in ggsci color palettes, and users
can use these color palettes by setting the “color” parameter. Note that
when creating a unit using the ggsci color palette, users need to set
the “color” parameter to the name of the palette in ggsci instead of
setting it directly to “ggsci”.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_ggsci_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"npg"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
<p>If different types exist for the color palettes, use an underscore
<code>_</code> to separate the palettes name from the type.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unit_7</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_ggsci_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"d3_category10"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span>
<span><span class="va">unit_8</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_ggsci_3"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      color <span class="op">=</span> <span class="st">"d3_category8"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="set-colors-manually">Set colors manually<a class="anchor" aria-label="anchor" href="#set-colors-manually"></a>
</h2>
<p>Users can set the colors manually by adding columns containing color
information to the metadata. The program supports hexadecimal, RGB, and
RGBA color formats and automatically recognizes strings starting with
“#” or “rgb” as color information.</p>
<div class="section level3">
<h3 id="hexadecimal">Hexadecimal<a class="anchor" aria-label="anchor" href="#hexadecimal"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">phylum_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Phylum</span>, <span class="va">Phylum_color</span>,</span>
<span>  <span class="st">"Proteobacteria"</span>, <span class="st">"#5a7860"</span>,</span>
<span>  <span class="st">"Actinobacteria"</span>, <span class="st">"#92af83"</span>,</span>
<span>  <span class="st">"Firmicutes"</span>,     <span class="st">"#f1e0a8"</span>,</span>
<span>  <span class="st">"Nitrospirae"</span>,    <span class="st">"#dd7050"</span>,</span>
<span>  <span class="st">"Bacteroidetes"</span>,  <span class="st">"#cca663"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">phylum_color</span><span class="op">)</span></span>
<span><span class="va">unit_9</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span>, <span class="va">Phylum_color</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_manual_1"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rgb">RGB<a class="anchor" aria-label="anchor" href="#rgb"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phylum_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Phylum</span>, <span class="va">Phylum_color</span>,</span>
<span>  <span class="st">"Proteobacteria"</span>, <span class="st">"rgb(16, 70, 128)"</span>,</span>
<span>  <span class="st">"Actinobacteria"</span>, <span class="st">"rgb(109, 173, 209)"</span>,</span>
<span>  <span class="st">"Firmicutes"</span>,     <span class="st">"rgb(233, 241, 244)"</span>,</span>
<span>  <span class="st">"Nitrospirae"</span>,    <span class="st">"rgb(220, 109, 87)"</span>,</span>
<span>  <span class="st">"Bacteroidetes"</span>,  <span class="st">"rgb(183, 34, 48)"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">phylum_color</span><span class="op">)</span></span>
<span><span class="va">unit_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                        <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span>, <span class="va">Phylum_color</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_manual_2"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rgba">RGBA<a class="anchor" aria-label="anchor" href="#rgba"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phylum_color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">Phylum</span>, <span class="va">Phylum_color</span>,</span>
<span>  <span class="st">"Proteobacteria"</span>, <span class="st">"rgba(16, 70, 128, 0.8)"</span>,</span>
<span>  <span class="st">"Actinobacteria"</span>, <span class="st">"rgba(109, 173, 209, 0.8)"</span>,</span>
<span>  <span class="st">"Firmicutes"</span>,     <span class="st">"rgba(233, 241, 244, 0.8)"</span>,</span>
<span>  <span class="st">"Nitrospirae"</span>,    <span class="st">"rgba(220, 109, 87, 0.8)"</span>,</span>
<span>  <span class="st">"Bacteroidetes"</span>,  <span class="st">"rgba(183, 34, 48, 0.8)"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_data</span> <span class="op">&lt;-</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">phylum_color</span><span class="op">)</span></span>
<span><span class="va">unit_11</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_unit.html">create_unit</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>                         <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ID</span>, <span class="va">Phylum</span>, <span class="va">Phylum_color</span><span class="op">)</span>, </span>
<span>                      key <span class="op">=</span> <span class="st">"color_manual_3"</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"DATASET_COLORSTRIP"</span>,</span>
<span>                      tree <span class="op">=</span> <span class="va">tree</span><span class="op">)</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tong Zhou.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
