<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Datasets • itol.toolkit</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Datasets">
<meta property="og:description" content="itol.toolkit">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">itol.toolkit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/Get_Start.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Single Functions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Tree Structure</li>
    <li>
      <a href="../articles/COLLAPSE.html">COLLAPSE</a>
    </li>
    <li>
      <a href="../articles/PRUNE.html">PRUNE</a>
    </li>
    <li>
      <a href="../articles/SPACING.html">SPACING</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Theme Style</li>
    <li>
      <a href="../articles/TREE_COLORS.html">TREE_COLORS</a>
    </li>
    <li>
      <a href="../articles/DATASET_STYLE.html">DATASET_STYLE</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Text</li>
    <li>
      <a href="../articles/LABELS.html">LABELS</a>
    </li>
    <li>
      <a href="../articles/DATASET_TEXT.html">DATASET_TEXT</a>
    </li>
    <li>
      <a href="../articles/DATASET_COLORSTRIP.html">DATASET_COLORSTRIP</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Basic Plot</li>
    <li>
      <a href="../articles/DATASET_BINARY.html">DATASET_BINARY</a>
    </li>
    <li>
      <a href="../articles/DATASET_GRADIENT.html">DATASET_GRADIENT</a>
    </li>
    <li>
      <a href="../articles/DATASET_HEATMAP.html">DATASET_HEATMAP</a>
    </li>
    <li>
      <a href="../articles/DATASET_SYMBOL.html">DATASET_SYMBOL</a>
    </li>
    <li>
      <a href="../articles/DATASET_EXTERNALSHAPE.html">DATASET_EXTERNALSHAPE</a>
    </li>
    <li>
      <a href="../articles/DATASET_DOMAINS.html">DATASET_DOMAINS</a>
    </li>
    <li>
      <a href="../articles/DATASET_SIMPLEBAR.html">DATASET_SIMPLEBAR</a>
    </li>
    <li>
      <a href="../articles/DATASET_MULTIBAR.html">DATASET_MULTIBAR</a>
    </li>
    <li>
      <a href="../articles/DATASET_BOXPLOT.html">DATASET_BOXPLOT</a>
    </li>
    <li>
      <a href="../articles/DATASET_LINECHART.html">DATASET_LINECHART</a>
    </li>
    <li>
      <a href="../articles/DATASET_PIECHART.html">DATASET_PIECHART</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Advanced Plot</li>
    <li>
      <a href="../articles/DATASET_ALIGNMENT.html">DATASET_ALIGNMENT</a>
    </li>
    <li>
      <a href="../articles/DATASET_CONNECTIONS.html">DATASET_CONNECTIONS</a>
    </li>
    <li>
      <a href="../articles/DATASET_IMAGE.html">DATASET_IMAGE</a>
    </li>
    <li>
      <a href="../articles/POPUP_INFO.html">POPUP_INFO</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tips
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/OVERVIEW_TREE_STRUCTURE.html">Overview</a>
    </li>
    <li>
      <a href="../articles/Installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/Datasets.html">Datasets</a>
    </li>
    <li>
      <a href="../articles/Color_Palette.html">Colors</a>
    </li>
    <li>
      <a href="../articles/Data_Reproduction.html">Data Reproduction</a>
    </li>
    <li>
      <a href="../articles/Comparison_table2itol.html">vs table2itol</a>
    </li>
    <li>
      <a href="../articles/tree_construction.html">Tree Construction</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://tongzhou2017.github.io/itol.toolkit-gallery/" class="external-link">Gallery</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/TongZhou2017/itol.toolkit" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://discord.com/invite/n5TC7jCfGJ" class="external-link">
    <span class="fab fa-discord fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/itol_toolkit" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Datasets</h1>
                        <h4 data-toc-skip class="author">Zhongyi Hua<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, Tong
Zhou<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>
</h4>
            
            <h4 data-toc-skip class="date">Last compiled on 07 December,
2023</h4>
      
      
      <div class="hidden name"><code>Datasets.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="dataset-structure">Dataset structure<a class="anchor" aria-label="anchor" href="#dataset-structure"></a>
</h2>
<p>A complete dataset should include at least the following:</p>
<ol style="list-style-type: decimal">
<li><p>Tree file in Newick format.</p></li>
<li><p>Metadata.</p></li>
</ol>
<p>Metadata files for most functions should be comma seperated files or
table seperated files that could be imported into R by
<code>data.table</code>. Only a few function has its own special
metadata format (e.g. <code>DATASET_ALIGNMENT</code>)</p>
</div>
<div class="section level2">
<h2 id="data-input-and-output">Data input and output<a class="anchor" aria-label="anchor" href="#data-input-and-output"></a>
</h2>
<div class="section level3">
<h3 id="input">Input<a class="anchor" aria-label="anchor" href="#input"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Metadata</strong>: It is recommended to use
<code><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">data.table::fread</a></code> to read metadata</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata_path</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"parameter_groups.txt"</span>,package <span class="op">=</span> <span class="st">"itol.toolkit"</span><span class="op">)</span></span>
<span><span class="va">meta_data</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="va">metadata_path</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>
<strong>Tree</strong>: It is recommended to use
<code><a href="https://rdrr.io/pkg/ape/man/read.tree.html" class="external-link">ape::read.tree</a></code> to read the tree file. If it is a non-phylo
object tree calculated in the R environment, it is recommended to use
<code><a href="https://rdrr.io/pkg/ape/man/as.phylo.html" class="external-link">ape::as.phylo</a></code> to convert it to a phylo object.</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tree_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,<span class="st">"tree_of_itol_templates.tree"</span>,package <span class="op">=</span> <span class="st">"itol.toolkit"</span><span class="op">)</span></span>
<span><span class="va">tree</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ape/man/read.tree.html" class="external-link">read.tree</a></span><span class="op">(</span><span class="va">tree_path</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a>
</h3>
<p>Users will get <code>unit</code> or <code>hub</code> object after
itol.toolkit annotation. You can use <code>write_unit</code> to output a
single <code>unit</code> object, and the output content will be the
template file corresponding to the object’s type attribute. Also, you
can add multiple units to the <code>hub</code> object, and then use
<code>write_hub</code> to output the template file in bulk.</p>
</div>
</div>
<div class="section level2">
<h2 id="dataset">Dataset<a class="anchor" aria-label="anchor" href="#dataset"></a>
</h2>
<p>To fully demonstrate <code>itol.toolkit</code> functions, we
presented five datasets:</p>
<ol style="list-style-type: decimal">
<li><p>iTOL parameter structure and usage. This is a very small dataset,
mainly used for the most basic function demonstration.</p></li>
<li><p>Li_2022_JHazardMater. This is a multi group dataset that focuses
on text display, mainly used for displaying TEXT functions and palette
systems.</p></li>
<li><p>Zheng_2022_EnvironPollut. This includes a small phylogenetic
tree, a large phylogenetic tree, and a comprehensive dataset for
multi-dimensional data comparison. It is mainly used for palette
display, browser overload testing, and demonstrate the comprehensive use
of multiple functions.</p></li>
<li><p>Zhou_2022_FoodRes. This is a dataset mainly used for comparing
with table2itol.</p></li>
<li><p>Tree of life. This is an official standard dataset from iTOL,
mainly used for demonstrating how to extract and combine metadata from
existing templates.</p></li>
</ol>
<div class="section level3">
<h3 id="dataset-1">Dataset 1<a class="anchor" aria-label="anchor" href="#dataset-1"></a>
</h3>
<table class="table">
<colgroup>
<col width="25%">
<col width="25%">
<col width="25%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Import inside R</th>
<th>GitHub url</th>
<th>Note</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Tree file</td>
<td><code>system.file("extdata","tree_of_itol_templates.tree",package = "itol.toolkit")</code></td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset1/itol_templates.tree" class="external-link">itol_templates.tree</a></td>
<td>Newick format，branches are 23 template names，nodes are 5 template
types</td>
</tr>
<tr class="even">
<td>Metadata1 raw parameter table</td>
<td><code>system.file("extdata","parameter_groups.txt",package = "itol.toolkit")</code></td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset1/parameter_usage_raw.txt" class="external-link">parameter_usage_raw.txt</a></td>
<td>Tab seperated file，parameters are on row，template names are on
column</td>
</tr>
<tr class="odd">
<td>Metadata2 parameter table</td>
<td><code>data("template_parameters_count")</code></td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset1/parameter_usage_count.txt" class="external-link">parameter_usage_count.txt</a></td>
<td>Tab seperated file，parameters are on row，template names are on
column，converted from parameter_usage_raw.txt</td>
</tr>
<tr class="even">
<td>Metadata3 frequency table</td>
<td><code>system.file("extdata","templates_frequence.txt",package = "itol.toolkit")</code></td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset1/templates_frequence.txt" class="external-link">templates_frequence.txt</a></td>
<td>Tab seperated file，template names are on row，DOIs are on
column</td>
</tr>
<tr class="odd">
<td>Metadata4 classification</td>
<td><code>data("template_groups")</code></td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset1/template_groups.txt" class="external-link">template_groups.txt</a></td>
<td>Tab seperated file，the first column is template name，the second
column is template type</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="dataset-2">Dataset 2<a class="anchor" aria-label="anchor" href="#dataset-2"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>GitHub url</th>
<th>Note</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Tree file</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset2/tree.nwk" class="external-link">tree.nwk</a></td>
<td>Newick format，branches are 104 OTU IDs</td>
</tr>
<tr class="even">
<td>Metadata</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset2/metadata.txt" class="external-link">metadata.txt</a></td>
<td>Tab seperated file, the first column is sequence id，the second
column is unused data，the third column is gene name，the fourth column
is substrate，the fifth column is species name</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="dataset-3">Dataset 3<a class="anchor" aria-label="anchor" href="#dataset-3"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>GitHub url</th>
<th>Note</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Tree file1 Subtree</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset3/abunt-tree.nwk" class="external-link">abunt-tree.nwk</a></td>
<td>Newick format，branches are 39 OTU IDs</td>
</tr>
<tr class="even">
<td>Metadata1 Species and their abundance</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset3/abunt-metadata.txt" class="external-link">abunt-metadata.txt</a></td>
<td>Tab seperated file, the first column is OTU ID, the second column is
NS group abundance, the third column is OS group abundance, the fourth
column is phylum, the fifth column is class, the sixth column is
species, the sixth column is indicators with differences</td>
</tr>
<tr class="odd">
<td>Tree file2 Whole tree</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset3/rare-tree.nwk" class="external-link">rare-tree.nwk</a></td>
<td>Newick format，branches are 1338 OTU IDs</td>
</tr>
<tr class="even">
<td>Metadata2 Species and their abundance</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset3/rare-metadata.txt" class="external-link">rare-metadata.txt</a></td>
<td>Tab seperated file, the first column is OTU ID, the second column is
NS group abundance, the third column is OS group abundance, the fourth
column is phylum, the fifth column is class, the sixth column is
species, the sixth column is indicators with differences</td>
</tr>
<tr class="odd">
<td>Tree file3 iCAMP bin tree</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset3/assembly-tree.nwk" class="external-link">assembly-tree.nwk</a></td>
<td>Newick format，branches are bins</td>
</tr>
<tr class="even">
<td>Metadata3 iCAMP result</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset3/assembly-metadata.txt" class="external-link">assembly-metadata.txt</a></td>
<td>Tab seperated file, the first column is bin ID, others are iCAMP
output results</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="dataset-4">Dataset 4<a class="anchor" aria-label="anchor" href="#dataset-4"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>GitHub url</th>
<th>Note</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Tree file</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset4/otus.contree" class="external-link">otus.contree</a></td>
<td>Newick format，branches are 186 ASV IDs</td>
</tr>
<tr class="even">
<td>Metadata</td>
<td><a href="https://github.com/TongZhou2017/itol.toolkit/blob/master/inst/extdata/dataset4/annotation.txt" class="external-link">annotation.txt</a></td>
<td>Tab seperated file, the first column is ASV id，the 2-8 columns are
taxonomy name in different level，the 9th column is total abundance，the
10-12 columns are abundance in different sample</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="dataset-5">Dataset 5<a class="anchor" aria-label="anchor" href="#dataset-5"></a>
</h3>
<p>See iTOL offical example data <a href="https://itol.embl.de/help/example_data.zip" class="external-link">here</a>.</p>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p>CACMS, <a href="mailto:njbxhzy@hotmail.com" class="email">njbxhzy@hotmail.com</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>IOCAS, <a href="mailto:tongzhou2017@gmail.com" class="email">tongzhou2017@gmail.com</a><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tong Zhou.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
