<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>OVERVIEW_STYLE • itol.toolkit</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="OVERVIEW_STYLE">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">itol.toolkit</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/Get_Start.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-single-functions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Single Functions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-single-functions">
<li><h6 class="dropdown-header" data-toc-skip>Tree Structure</h6></li>
    <li><a class="dropdown-item" href="../articles/COLLAPSE.html">COLLAPSE</a></li>
    <li><a class="dropdown-item" href="../articles/PRUNE.html">PRUNE</a></li>
    <li><a class="dropdown-item" href="../articles/SPACING.html">SPACING</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Theme Style</h6></li>
    <li><a class="dropdown-item" href="../articles/TREE_COLORS.html">TREE_COLORS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_STYLE.html">DATASET_STYLE</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Text</h6></li>
    <li><a class="dropdown-item" href="../articles/LABELS.html">LABELS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_TEXT.html">DATASET_TEXT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_COLORSTRIP.html">DATASET_COLORSTRIP</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Basic Plot</h6></li>
    <li><a class="dropdown-item" href="../articles/DATASET_BINARY.html">DATASET_BINARY</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_GRADIENT.html">DATASET_GRADIENT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_HEATMAP.html">DATASET_HEATMAP</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_SYMBOL.html">DATASET_SYMBOL</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_EXTERNALSHAPE.html">DATASET_EXTERNALSHAPE</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_DOMAINS.html">DATASET_DOMAINS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_SIMPLEBAR.html">DATASET_SIMPLEBAR</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_MULTIBAR.html">DATASET_MULTIBAR</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_BOXPLOT.html">DATASET_BOXPLOT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_LINECHART.html">DATASET_LINECHART</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_PIECHART.html">DATASET_PIECHART</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Advanced Plot</h6></li>
    <li><a class="dropdown-item" href="../articles/DATASET_ALIGNMENT.html">DATASET_ALIGNMENT</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_CONNECTIONS.html">DATASET_CONNECTIONS</a></li>
    <li><a class="dropdown-item" href="../articles/DATASET_IMAGE.html">DATASET_IMAGE</a></li>
    <li><a class="dropdown-item" href="../articles/POPUP_INFO.html">POPUP_INFO</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tips" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tips</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tips">
<li><a class="dropdown-item" href="../articles/OVERVIEW_TREE_STRUCTURE.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/Installation.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/Datasets.html">Datasets</a></li>
    <li><a class="dropdown-item" href="../articles/Color_Palette.html">Colors</a></li>
    <li><a class="dropdown-item" href="../articles/Data_Reproduction.html">Data Reproduction</a></li>
    <li><a class="dropdown-item" href="../articles/Comparison_table2itol.html">vs table2itol</a></li>
    <li><a class="dropdown-item" href="../articles/tree_construction.html">Tree Construction</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Version history</h6></li>
    <li><a class="dropdown-item" href="../articles/v1.1.9.html">version 1.1.9</a></li>
    <li><a class="dropdown-item" href="../articles/v1.1.10.html">version 1.1.10</a></li>
    <li><a class="dropdown-item" href="../articles/v1.1.11.html">version 1.1.11</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="https://tongzhou2017.github.io/itol.toolkit-gallery/">Gallery</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/TongZhou2017/itol.toolkit" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discord.com/invite/n5TC7jCfGJ" aria-label="Discord community"><span class="fa fab fa-discord fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/itol_toolkit" aria-label="Twitter profile"><span class="fa fa-twitter"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>OVERVIEW_STYLE</h1>
                        <h4 data-toc-skip class="author">Weiyue Liu<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;IOCAS, &lt;a href="mailto:weiyLiu@outlook.com" class="email"&gt;weiyLiu@outlook.com&lt;/a&gt;&lt;/p&gt;'><sup>1</sup></a>, Zhongyi
Hua<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;CACMS, &lt;a href="mailto:njbxhzy@hotmail.com" class="email"&gt;njbxhzy@hotmail.com&lt;/a&gt;&lt;/p&gt;'><sup>2</sup></a>,
Tong Zhou<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;IOCAS, &lt;a href="mailto:tongzhou2017@gmail.com" class="email"&gt;tongzhou2017@gmail.com&lt;/a&gt;&lt;/p&gt;'><sup>3</sup></a>
</h4>
            
            <h4 data-toc-skip class="date">Last compiled on 01
September, 2025</h4>
      

      <div class="d-none name"><code>OVERVIEW_STYLE.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>According to parameter usage similarity and functional similarity of
templates, 23 functional types of iTOL v6 templates are clustered, which
can be divided into five parts:</p>
<ul>
<li><p>Tree structure：COLLAPSE、PRUNE、SPACING</p></li>
<li><p>Style：TREE_COLORS、DATASET_STYLE</p></li>
<li><p>Text：LABELS、DATASET_TEXT、DATASET_COLORSTRIP</p></li>
<li><p>Basic
graphics：DATASET_BINARY、DATASET_GRADIENT、DATASET_HEATMAP、DATASET_SYMBOL、DATASET_EXTERNALSHAPE、DATASET_DOMAINS、DATASET_SIMPLEBAR、DATASET_MULTIBAR、DATASET_BOXPLOT、DATASET_LINECHART、DATASET_PIECHART</p></li>
<li><p>Advanced
graphics：DATASET_ALIGNMENT、DATASET_CONNECTION、DATASET_IMAGE、POPUP_INFO</p></li>
</ul>
<p>This section outlines the templates belong to “style class”. Five
indicators were used to evaluate each template function from different
dimensions. These five indicators are:</p>
<table class="table">
<thead><tr class="header">
<th>indicator</th>
<th>Points of view</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Usage frequency</td>
<td>objective</td>
</tr>
<tr class="even">
<td>Style complexity</td>
<td>objective</td>
</tr>
<tr class="odd">
<td>Input threshold</td>
<td>objective</td>
</tr>
<tr class="even">
<td>Core score</td>
<td>subjective</td>
</tr>
<tr class="odd">
<td>Diversity score</td>
<td>subjective</td>
</tr>
</tbody>
</table>
<ul>
<li>Usage frequency: The average number of times the template type used
in published papers is calculated and logarithmic converted.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tongzhou2017.github.io/itol.toolkit/">itol.toolkit</a></span><span class="op">)</span></span>
<span><span class="va">df_frequence</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">fread</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>,</span>
<span>                                              <span class="st">"templates_frequence.txt"</span>,</span>
<span>                                              package <span class="op">=</span> <span class="st">"itol.toolkit"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df_frequence</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>template <span class="op">=</span> <span class="va">df_frequence</span><span class="op">$</span><span class="va">templates</span>, </span>
<span>                           value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">df_frequence</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span>,na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df_frequence</span><span class="op">$</span><span class="va">value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">df_frequence</span><span class="op">$</span><span class="va">value</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>Style complexity: The number of style class parameters and converted
by square root conversion.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"template_parameters_count"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">template_parameters_count</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">113</span><span class="op">]</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span>,<span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>-Input threshold: The number of data class parameters + the number of
terms of multiple choice parameters + the number of sub-parameters of
aggregation parameters + the number of indirect data parameters. If
there are infinite items, the single item value is denoted as 5
capping.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"template_parameters_count"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">template_parameters_count</span><span class="op">[</span>,<span class="fl">114</span><span class="op">:</span><span class="fl">148</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>-Core score: According to the non-replaceability, the degree of
overlap with other functions, and the application potential(used as
weight), a core score is given. The lowest score is 0 points and the
highest score is 5 points.</p>
<p>-Diversity score: According to the frequency of collaboration with
other templates, the scalability of its own functions, and the diversity
of functional application scenarios, a diversity score is given. The
lowest score for each item is 0 points and the highest score is 5
points. 0 points indicate that the function is monotonous, and 5 points
indicate that the function is diverse
（我直接把OVERVIWE_TREE_STRUCTURE的复制过来了，后续看看再改改）</p>
</div>
<div class="section level2">
<h2 id="tree_colors-beautify-style">TREE_COLORS Beautify style<a class="anchor" aria-label="anchor" href="#tree_colors-beautify-style"></a>
</h2>
<blockquote>
<p>Degree of usability：2.89</p>
<p>Style complexity：1.41</p>
<p>Threshold of entry：9</p>
<p>Core index：(5+3)*(2.89/2)=11.56</p>
<p>Diversity index：(5+0+2)/3 = 2.33</p>
</blockquote>
<p>By using the TREE_COLORS annotation file, you can define the colors,
styles and widths/sizes for each individual node or tip in the tree.</p>
<p>In the iTOL template, the required input data is 4-5 columns in a
strict order: branch name or node（没懂这个or node是什么意思）, subclass
function name, color, label or style, size. There are five subclasses:
range, clade, branch, label, label_background. Each has its own input
data requirements, so it is very difficult for users to straighten out
the complex data input requirements. The itol.toolkit greatly simplifies
the threshold for data preparation by automating the identification of
data through the program. It only needs at least 2 columns of input
data.</p>
<p>In all template functions, TREE_ COLORS is one of the most commonly
used functions. It has rich style control functions and is often used in
combination with other functions to achieve the unification of the
overall visual style. It is the core function of iTOL with various
functions, which is strongly recommended for users to master. The
itol.toolkit implements a complete set of automated processing of all
the parameters of this function, including extracing data, output,
editing, and saving.</p>
</div>
<div class="section level2">
<h2 id="dataset_style-beautify-branches">DATASET_STYLE Beautify branches<a class="anchor" aria-label="anchor" href="#dataset_style-beautify-branches"></a>
</h2>
<blockquote>
<p>Degree of usability：1.39</p>
<p>Style complexity：3.46</p>
<p>Threshold of entry：11</p>
<p>Core index：(5+0)*(0/2) = 0</p>
<p>Diversity index：(3+0+1)/3 = 1.33</p>
</blockquote>
<p>这个功能在iTOL里被叫做“Branch and label
styles”，是否这里要补一句说明？ .The function was launched after the
“TREE_COLORS” function in iTOL. This function was originally designed to
solve the problem of too many sub-functions in TREE_COLORS by
integrating the original five sub-functions into two based on positional
information. However, this function drops the widely used range subclass
function and made the input data more cumbersome: it expanded from four
columns to six columns. Its complex data parameters make it one of the
most difficult templates to learn and use.</p>
<p>When using DATASET_STYLE, it can also cause style overwriting,
deleting the previously set tree line style, and making it difficult for
ordinary users to find out why the visual effect did not take effect as
expected. The more optimized version of TREE_COLORS launched in iTOL v4
has not been accepted by users, who prefer to use the old version of the
function. itol.toolkit replaces this function with a new one: users only
need a minimum of two columns of data to output templates, and the other
four columns can be automatically set by the program. In itol.toolkit,
users can use both new and old versions of the beautification branch
template function smoothly according to their preferences. It can be
foreseen that as the number of itol.toolkit users increases in the
future, the number of users using new and old versions will gradually
balance.</p>
<p>In summary, the characteristics of the 2 template functions of the
style class are: 1. Be heavily used 2. Data and parameters are complex
3. TREE_COLORS is more powerful than DATASET_STYLE</p>
<p>For this class of functions, not using itol.toolkit can suffer a very
steep learning curve, but many difficulties are not necessary for users
to experience, which is caused by the difficulty of balancing
functionality and ease of use in the design of iTOL templates. The
built-in automatic workflow of itol.toolkit can help users avoid being
bothered by complex data preparation, minimizing the burden on users. It
allows users to spend more energy on thinking, resulting in a more fluid
data analysis experience.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tong Zhou.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
